apiVersion: v1
kind: Secret
metadata:
  name: wireguard-secret
  namespace: wireguard
stringData:
  wg0.conf: |+
    [Interface]
    Address = {{ .Values.wireguard.address }}
    PrivateKey = {{ .Values.wireguard.privateKey }}
    ListenPort = {{ .Values.wireguard.internalPort }}
    
    [Peer]
    PublicKey = {{ .Values.wireguard.peer1.publicKey }}
    PresharedKey = {{ .Values.wireguard.peer1.presharedKey }}
    AllowedIPs = {{ .Values.wireguard.peer1.allowedIPs }}
    
    [Peer]
    PublicKey = {{ .Values.wireguard.peer2.publicKey }}
    PresharedKey = {{ .Values.wireguard.peer2.presharedKey }}
    AllowedIPs = {{ .Values.wireguard.peer2.allowedIPs }}
    
    [Peer]
    PublicKey = {{ .Values.wireguard.peer3.publicKey }}
    PresharedKey = {{ .Values.wireguard.peer3.presharedKey }}
    AllowedIPs = {{ .Values.wireguard.peer3.allowedIPs }}
